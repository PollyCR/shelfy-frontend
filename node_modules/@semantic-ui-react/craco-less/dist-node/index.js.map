{"version":3,"file":"index.js","sources":["../dist-src/index.js"],"sourcesContent":["const {\n  getLoader,\n  loaderByName,\n  removeLoaders,\n  throwUnexpectedConfigError\n} = require(\"@craco/craco\");\n\nconst CracoLessPlugin = require(\"craco-less\");\n\nconst path = require(\"path\");\n\nconst overrideWebpackConfig = ({\n  context,\n  webpackConfig\n}) => {\n  // add alias to theme.config\n  webpackConfig.resolve.alias[\"../../theme.config$\"] = path.join(context.paths.appSrc, \"/semantic-ui/theme.config\"); // file-loader:\n  // theme.config, *.variables and *.overrides files should be excluded\n\n  const {\n    isFound,\n    match: fileLoaderMatch\n  } = getLoader(webpackConfig, loaderByName(\"file-loader\"));\n\n  if (!isFound) {\n    throwUnexpectedConfigError({\n      packageName: \"@semantic-ui-react/craco-less\",\n      message: `Can't find \"file-loader\" in the ${context.env} webpack config!`\n    });\n  }\n\n  fileLoaderMatch.loader.exclude.push(/theme.config$/);\n  fileLoaderMatch.loader.exclude.push(/\\.variables$/);\n  fileLoaderMatch.loader.exclude.push(/\\.overrides$/); // resolve-url-loader:\n  // should be removed as it causes bugs\n  // https://github.com/Semantic-Org/Semantic-UI-React/issues/3761\n\n  const {\n    hasRemovedAny\n  } = removeLoaders(webpackConfig, loaderByName(\"resolve-url-loader\"));\n\n  if (!hasRemovedAny) {\n    throwUnexpectedConfigError({\n      packageName: \"@semantic-ui-react/craco-less\",\n      message: `Can't find \"resolve-url-loader\" in the ${context.env} webpack config!`\n    });\n  } // less-loader:\n  // craco-less is reused\n\n\n  return CracoLessPlugin.overrideWebpackConfig({\n    context,\n    webpackConfig\n  });\n};\n\nmodule.exports = {\n  overrideWebpackConfig\n};"],"names":["getLoader","loaderByName","removeLoaders","throwUnexpectedConfigError","require","CracoLessPlugin","path","overrideWebpackConfig","context","webpackConfig","resolve","alias","join","paths","appSrc","isFound","match","fileLoaderMatch","packageName","message","env","loader","exclude","push","hasRemovedAny","module","exports"],"mappings":";;AAAA,MAAM;EACJA,SADI;EAEJC,YAFI;EAGJC,aAHI;EAIJC;IACEC,OAAO,CAAC,cAAD,CALX;;AAOA,MAAMC,eAAe,GAAGD,OAAO,CAAC,YAAD,CAA/B;;AAEA,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAMG,qBAAqB,GAAG,CAAC;EAC7BC,OAD6B;EAE7BC;CAF4B,KAGxB;;EAEJA,aAAa,CAACC,OAAd,CAAsBC,KAAtB,CAA4B,qBAA5B,IAAqDL,IAAI,CAACM,IAAL,CAAUJ,OAAO,CAACK,KAAR,CAAcC,MAAxB,EAAgC,2BAAhC,CAArD,CAFI;;;QAKE;IACJC,OADI;IAEJC,KAAK,EAAEC;MACLjB,SAAS,CAACS,aAAD,EAAgBR,YAAY,CAAC,aAAD,CAA5B,CAHb;;MAKI,CAACc,OAAL,EAAc;IACZZ,0BAA0B,CAAC;MACzBe,WAAW,EAAE,+BADY;MAEzBC,OAAO,EAAG,mCAAkCX,OAAO,CAACY,GAAI;KAFhC,CAA1B;;;EAMFH,eAAe,CAACI,MAAhB,CAAuBC,OAAvB,CAA+BC,IAA/B,CAAoC,eAApC;EACAN,eAAe,CAACI,MAAhB,CAAuBC,OAAvB,CAA+BC,IAA/B,CAAoC,cAApC;EACAN,eAAe,CAACI,MAAhB,CAAuBC,OAAvB,CAA+BC,IAA/B,CAAoC,cAApC,EAnBI;;;;QAuBE;IACJC;MACEtB,aAAa,CAACO,aAAD,EAAgBR,YAAY,CAAC,oBAAD,CAA5B,CAFjB;;MAII,CAACuB,aAAL,EAAoB;IAClBrB,0BAA0B,CAAC;MACzBe,WAAW,EAAE,+BADY;MAEzBC,OAAO,EAAG,0CAAyCX,OAAO,CAACY,GAAI;KAFvC,CAA1B;GA5BE;;;;SAoCGf,eAAe,CAACE,qBAAhB,CAAsC;IAC3CC,OAD2C;IAE3CC;GAFK,CAAP;CAvCF;;AA6CAgB,MAAM,CAACC,OAAP,GAAiB;EACfnB;CADF"}